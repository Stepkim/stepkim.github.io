<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 
			
  
    <meta name="twitter:card" content="summary"/>
    
      <meta name="twitter:image" content="https://stepkim.gitee.io/images/avatar.png" />
    
  
  
  <meta name="twitter:title" content="关于hugo的使用"/>
  <meta name="twitter:description" content="从hugo安装到生成文章发布到github pages"/>
  
  
  
  
    <meta name="twitter:creator" content="@stepkim"/>
  



		
		<meta name="author" content="stepkim">
		
		<meta name="generator" content="Hugo 0.59.0" />
		<title>关于hugo的使用 &middot; StepKim</title>
		<link rel="shortcut icon" href="https://stepkim.gitee.io/images/favicon.ico">
		<link rel="stylesheet" href="https://stepkim.gitee.io/css/style.css">
		<link rel="stylesheet" href="https://stepkim.gitee.io/css/highlight.css">

		
		<link rel="stylesheet" href="https://stepkim.gitee.io/css/font-awesome.min.css">
		

		
		<link href="https://stepkim.gitee.io/index.xml" rel="alternate" type="application/rss+xml" title="StepKim" />
		

		
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css"/>
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://stepkim.gitee.io/'> <span class="arrow">←</span>首页</a>
	
	<a href='https://stepkim.gitee.io/posts'>文章</a>
	<a href="https://stepkim.gitee.io/categories">分类</a>
	<a href='https://stepkim.gitee.io/tags'>标签</a>
	<a href='https://stepkim.gitee.io/about'>关于</a>

	

	
	<a class="cta" href="https://stepkim.gitee.io/index.xml">订阅</a>
	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        关于hugo的使用
                    </h1>
                    <h2 class="headline">
                    2020-07-24 16:47
                    · 257 字数
                    · 阅读需要约 2 分钟
                      <span class="tags">
                      
                      
                          
                              <a href="https://stepkim.gitee.io/tags/go">Go</a>
                          
                              <a href="https://stepkim.gitee.io/tags/%E5%B7%A5%E5%85%B7">工具</a>
                          
                              <a href="https://stepkim.gitee.io/tags/hugo">hugo</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                  
                    <div id="toc">
                      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#安装">安装</a>
<ul>
<li><a href="#1-二进制安装">1. 二进制安装</a></li>
<li><a href="#2-源码安装">2. 源码安装</a></li>
</ul></li>
<li><a href="#生成站点">生成站点</a></li>
<li><a href="#创建文章">创建文章</a></li>
<li><a href="#安装主题">安装主题</a></li>
<li><a href="#配置主题">配置主题</a></li>
<li><a href="#让hugo支持公式渲染">让hugo支持公式渲染</a></li>
<li><a href="#运行">运行</a></li>
<li><a href="#在-github-pages-gitee-pages-上部署">在 <code>github pages/gitee pages</code> 上部署</a></li>
<li><a href="#参考">参考</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
                    </div>
                  
                
                <section id="post-body">
                    

<h3 id="安装">安装</h3>

<h4 id="1-二进制安装">1. 二进制安装</h4>

<p>下载编译好的对应系统的二进制文件进行安装, 下载地址: <a href="https://github.com/gohugoio/hugo/releases">Hugo Releases</a><br />
如果在Mac环境下, 可以使用<code>brew install hugo</code>进行快速安装</p>

<h4 id="2-源码安装">2. 源码安装</h4>

<p>2.1 环境依赖:</p>

<ul>
<li><a href="http://git-scm.com/">Git</a></li>
<li><a href="http://mercurial.selenic.com/">Mercurial</a></li>
<li><a href="http://golang.org/">Go 1.3+ (Go 1.4+ on windows)</a><br /></li>
</ul>

<p>2.2 安装<br />
安装好Go环境之后设置环境变量</p>

<pre><code class="language-shell">export GOPATH=$HOME/go
</code></pre>

<p>获取源码并编译</p>

<pre><code class="language-shell">go get -v github.com/spf13/hugo
</code></pre>

<p>如果需要更新Hugo的所有依赖, 可以加上 <code>-u</code> 参数, 执行命令之后, 源码会下载到 <code>$GOPATH/src/</code> 目录下, 二进制文件会在 <code>$GOPATH/bin/</code> 目录下</p>

<h3 id="生成站点">生成站点</h3>

<pre><code class="language-shell">hugo new site /path/to/site
</code></pre>

<p>生成的站点目录结构如下:</p>

<pre><code>▸ archetypes/
▸ content/
▸ layouts/
▸ static/
config.toml
</code></pre>

<h3 id="创建文章">创建文章</h3>

<p>进到站点目录下执行 <code>hugo new</code> 命令</p>

<pre><code class="language-shell">hugo new about.md
</code></pre>

<p><code>about.md</code> 文件自动生成到 <code>content/about.md</code></p>

<h3 id="安装主题">安装主题</h3>

<p>到<a href="https://www.gohugo.org/theme/">主题列表</a>找一个喜欢的主题, 下载到 <code>themes</code> 目录下, 一般是去主题的git仓库拉取</p>

<pre><code class="language-shell">git clone https://github.com/nodejh/hugo-theme-cactus-plus.git
</code></pre>

<h3 id="配置主题">配置主题</h3>

<p>编辑站点根目录下的<code>config.yaml</code>或者<code>config.toml</code>, 根据主题所需要的参数进行自定义编辑</p>

<blockquote>
<p>如果不喜欢主题的代码高亮, 可以到<a href="https://highlightjs.org/">highlightjs</a>下载自己喜欢的风格进行替换</p>
</blockquote>

<h3 id="让hugo支持公式渲染">让hugo支持公式渲染</h3>

<ol>
<li><p>在引入css的位置加上下面的代码</p>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css&quot;/&gt;
</code></pre></li>

<li><p>在引入js的位置加上下面的代码</p>

<pre><code class="language-html">&lt;script defer src=&quot;https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js&quot;
integrity=&quot;sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx&quot; 
crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
&lt;script defer src=&quot;https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js&quot;
integrity=&quot;sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe&quot;
crossorigin=&quot;anonymous&quot;
onload=&quot;renderMathInElement(document.body,{delimiters: [{left: '$$', right: '$$', display: true},{left: '$', right: '$', display: false}]});&quot;&gt;&lt;/script&gt;
</code></pre></li>
</ol>

<h3 id="运行">运行</h3>

<p>在站点根目录下执行命令:</p>

<pre><code class="language-shell">hugo server --theme=hugo-theme-cactus-plus --buildDrafts
</code></pre>

<p>然后访问<code>localhost:1313</code></p>

<h3 id="在-github-pages-gitee-pages-上部署">在 <code>github pages/gitee pages</code> 上部署</h3>

<p>以 <code>github pages</code> 为例, 创建仓库, 仓库名称为 <code>{username}.github.io</code> , 编译本地的md文件为html文件</p>

<pre><code class="language-shell">hugo --theme=hugo-theme-cactus-plus --baseUrl=&quot;https://{username}.github.io/&quot;
</code></pre>

<p>再提交到github的仓库中</p>

<pre><code class="language-shell">cd sitePath/public
git init
git remote add origin https://github.com/{username}/{username}.github.io.git
git add -A
git commit -m 'deploy'
git push -u origin master
</code></pre>

<p>提交完成之后就可以在浏览器上访问 <code>{username}.github.io</code> 查看效果.</p>

<blockquote>
<p>注: 如果是提交到gitee, 需要去此仓库-&gt;服务-&gt;Gitee Pages-&gt;更新</p>
</blockquote>

<p>下面附上本地运行以及编译发布的脚本</p>

<ul>
<li><p>start.sh</p>

<pre><code class="language-shell">#!/bin/bash

hugo server --theme=hugo-theme-cactus-plus --buildDrafts
</code></pre></li>

<li><p>deploy.sh</p>

<pre><code class="language-shell">#!/bin/bash

repo=&quot;https://github.com/{username}/{username}.github.io.git&quot;
baseUrl=&quot;https://{username}.github.io/&quot;

case $1 in
github)
repo=&quot;https://github.com/{username}/{username}.github.io.git&quot;
baseUrl=&quot;https://{username}.github.io/&quot;
;;
gitee)
repo=&quot;https://gitee.com/stepkim/stepkim.git&quot;
baseUrl=&quot;https://username.gitee.io/&quot;
;;
*)
echo &quot;Usage: $0 [OPTIONS] {github|gitee}&quot;
exit 0
;;
esac

hugo --theme=hugo-theme-cactus-plus --baseUrl=$baseUrl
cd public
git init
git remote add origin $repo
git add -A
git commit -m 'deploy'
git push -u origin master
cd -

# 如果有把握的话可以使用git push -f进行提交
# hugo --theme=hugo-theme-cactus-plus --baseUrl=$baseUrl
# cd public
# git init
# git add -A
# git commit -m 'deploy'
# git push -f $repo master
</code></pre></li>
</ul>

<h3 id="参考">参考</h3>

<p>[+] <a href="https://www.gohugo.org/">Hugo官网</a><br />
[+] <a href="https://www.jianshu.com/p/5fd2c9b3b638">使用Hugo生成支持数学公式渲染的静态站</a></p>

                </section>
            </article>

            

            

            
                <ul id="post-list" class="archive readmore">
    <h3>其他文章</h3>

    
    
    
        <li>
            <a href="/posts/iterm2-sz-and-rz/">iterm2配置sz和rz下载和上传服务器文件<aside class="dates">2020-08-13</aside></a>
        </li>
    
        <li>
            <a href="/posts/iterm-use-profile-ssh/">iterm2配置一键ssh<aside class="dates">2020-08-13</aside></a>
        </li>
    
        <li>
            <a href="/posts/php-log-collect/">关于PHP的错误日志收集<aside class="dates">2020-07-27</aside></a>
        </li>
    
</ul>

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.github.com/stepkim">
        <i class="fa fa-github"></i>
    </a>
    


</div>

    
    <p class="small">
    
       © Copyright 2020 <i class="fa fa-heart" aria-hidden="true"></i> stepkim
    
    </p>
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
    </p>
</footer>

        </section>

        <script src="https://stepkim.gitee.io/js/jquery-3.3.1.min.js"></script>
<script src="https://stepkim.gitee.io/js/main.js"></script>
<script src="https://stepkim.gitee.io/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  




<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js"
integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" 
crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js"
integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe"
crossorigin="anonymous"
onload="renderMathInElement(document.body,{delimiters: [{left: '$$', right: '$$', display: true},{left: '$', right: '$', display: false}]});"></script>

    </body>
</html>
